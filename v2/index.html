<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neuro Evolved Tetris</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="modulepreload" href="tetris-robot.js" />
</head>

<body>
  <script src="libraries/p5.min.js"></script>
  <script src="libraries/p5.sound.min.js"></script>
  <script src="libraries/ml5.min.js"></script>
  <script src="util.js"></script>
  <script>
    const BLOCK_SIZE_PIXELS = 5;
    const NUMBER_OF_GAMES = parseInt(new URLSearchParams(window.location.search).get('games')) || 16;
    const WIDTH = 10;
    const HEIGHT = 10;
    const gridSize = calculateGridSize(NUMBER_OF_GAMES, window.innerWidth, window.innerHeight);
    const COLS = gridSize.gridWidth;
    const ROWS = gridSize.gridHeight;
    // regardless of framerate, we want the game to tick every this many frames
    const FRAMES_UNTIL_TICK = 8;

    window.indexedDB.databases().then((r) => {
      for (var i = 0; i < r.length; i++) window.indexedDB.deleteDatabase(r[i].name);
    }).then(() => {
      console.log("ğŸ‘ğŸ» cleared IndexedDB")
    });
  </script>
  <script src="tetris-engine.js"></script>
  <script src="world.js"></script>
</body>

</html>